{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Feed = function Feed(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    posts = _useState2[0],\n    setPosts = _useState2[1];\n  useEffect(function () {\n    if (props.usersFollowsLoaded === props.follows.length && props.follows.length !== 0) {\n      props.feed.sort(function (x, y) {\n        return x.created_at - y.created_at;\n      });\n      setPosts(props.feed);\n    }\n  }, [props.usersFollowsLoaded, props.feed]);\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(View, {\n      style: styles.gallery,\n      children: _jsx(FlatList, {\n        numColumns: 1,\n        horizontal: false,\n        data: posts,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsxs(View, {\n            style: styles.imgContainer,\n            children: [_jsx(Image, {\n              style: styles.image,\n              source: {\n                uri: item.downloadURL\n              }\n            }), _jsx(Text, {\n              onPress: function onPress() {\n                return props.navigation.navigate(\"Comments\", {\n                  postId: item.id,\n                  uid: item.user.uid\n                });\n              },\n              children: \"View comments...\"\n            })]\n          });\n        }\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: 40\n  },\n  info: {\n    margin: 10\n  },\n  gallery: {\n    flex: 1\n  },\n  image: {\n    flex: 1,\n    aspectRatio: 1\n  },\n  imgContainer: {\n    flex: 1\n  }\n});\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    currentUser: store.userState.currentUser,\n    follows: store.userState.follows,\n    feed: store.usersState.feed,\n    usersFollowsLoaded: store.usersState.usersFollowsLoaded\n  };\n};\nexport default connect(mapStateToProps, null)(Feed);","map":{"version":3,"names":["React","useEffect","useState","connect","jsx","_jsx","jsxs","_jsxs","Feed","props","_useState","_useState2","_slicedToArray","posts","setPosts","usersFollowsLoaded","follows","length","feed","sort","x","y","created_at","View","style","styles","container","children","gallery","FlatList","numColumns","horizontal","data","renderItem","_ref","item","imgContainer","Image","image","source","uri","downloadURL","Text","onPress","navigation","navigate","postId","id","uid","user","StyleSheet","create","flex","marginTop","info","margin","aspectRatio","mapStateToProps","store","currentUser","userState","usersState"],"sources":["D:/prog/TFT/extrafy/components/main/Feed.js"],"sourcesContent":["import { View, Text, Image, FlatList, StyleSheet, Button } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Feed = (props) => {\r\n  const [posts, setPosts] = useState([]);\r\n  useEffect(() => {\r\n    if (\r\n      props.usersFollowsLoaded === props.follows.length &&\r\n      props.follows.length !== 0\r\n    ) {\r\n      props.feed.sort(function (x, y) {\r\n        return x.created_at - y.created_at;\r\n      });\r\n\r\n      setPosts(props.feed);\r\n    }\r\n  }, [props.usersFollowsLoaded, props.feed]);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.gallery}>\r\n        <FlatList\r\n          numColumns={1}\r\n          horizontal={false}\r\n          data={posts}\r\n          renderItem={({ item }) => (\r\n            <View style={styles.imgContainer}>\r\n              {/* <Text style={styles.container}>{item.user.username}</Text> */}\r\n              <Image style={styles.image} source={{ uri: item.downloadURL }} />\r\n              <Text\r\n                onPress={() =>\r\n                  props.navigation.navigate(\"Comments\", {\r\n                    postId: item.id,\r\n                    uid: item.user.uid,\r\n                  })\r\n                }\r\n              >\r\n                View comments...\r\n              </Text>\r\n            </View>\r\n          )}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    marginTop: 40,\r\n  },\r\n  info: {\r\n    margin: 10,\r\n  },\r\n  gallery: { flex: 1 },\r\n  image: {\r\n    flex: 1,\r\n    aspectRatio: 1,\r\n  },\r\n  imgContainer: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (store) => ({\r\n  currentUser: store.userState.currentUser,\r\n  follows: store.userState.follows,\r\n  feed: store.usersState.feed,\r\n  usersFollowsLoaded: store.usersState.usersFollowsLoaded,\r\n});\r\nexport default connect(mapStateToProps, null)(Feed);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}