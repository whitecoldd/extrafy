{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useState } from \"react\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Search = function Search(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    users = _useState2[0],\n    setUsers = _useState2[1];\n  var fetchUsers = function fetchUsers(search) {\n    firebase.firestore().collection(\"users\").where(\"username\", \">=\", search).get().then(function (snapshot) {\n      var results = snapshot.docs.map(function (doc) {\n        var data = doc.data();\n        var id = doc.id;\n        return _objectSpread({\n          id: id\n        }, data);\n      });\n      setUsers(results);\n    });\n  };\n  return _jsxs(View, {\n    children: [_jsx(TextInput, {\n      placeholder: \"Search\",\n      onChangeText: function onChangeText(search) {\n        return fetchUsers(search);\n      }\n    }), _jsx(FlatList, {\n      numColumns: 1,\n      horizontal: false,\n      data: users,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Profile\", {\n              uid: item.id\n            });\n          },\n          children: _jsx(Text, {\n            children: item.username\n          })\n        });\n      }\n    })]\n  });\n};\nexport default Search;","map":{"version":3,"names":["React","useState","firebase","jsx","_jsx","jsxs","_jsxs","Search","_ref","navigation","_useState","_useState2","_slicedToArray","users","setUsers","fetchUsers","search","firestore","collection","where","get","then","snapshot","results","docs","map","doc","data","id","_objectSpread","View","children","TextInput","placeholder","onChangeText","FlatList","numColumns","horizontal","renderItem","_ref2","item","TouchableOpacity","onPress","navigate","uid","Text","username"],"sources":["D:/prog/TFT/extrafy/components/main/Search.js"],"sourcesContent":["import {\r\n  View,\r\n  Text,\r\n  FlatList,\r\n  TextInput,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport React, { useState } from \"react\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nconst Search = ({ navigation }) => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const fetchUsers = (search) => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"users\")\r\n      .where(\"username\", \">=\", search)\r\n      .get()\r\n      .then((snapshot) => {\r\n        let results = snapshot.docs.map((doc) => {\r\n          const data = doc.data();\r\n          const id = doc.id;\r\n          return { id, ...data };\r\n        });\r\n        setUsers(results);\r\n      });\r\n  };\r\n  return (\r\n    <View>\r\n      <TextInput\r\n        placeholder=\"Search\"\r\n        onChangeText={(search) => fetchUsers(search)}\r\n      />\r\n      <FlatList\r\n        numColumns={1}\r\n        horizontal={false}\r\n        data={users}\r\n        renderItem={({ item }) => (\r\n          <TouchableOpacity\r\n            onPress={() => navigation.navigate(\"Profile\", { uid: item.id })}\r\n          >\r\n            <Text>{item.username}</Text>\r\n          </TouchableOpacity>\r\n        )}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":";;;;;;;;;AAOA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,OAAO,2BAA2B;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEnC,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAAC,IAAA,EAAuB;EAAA,IAAjBC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAC1B,IAAAC,SAAA,GAA0BT,QAAQ,CAAC,EAAE,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EAEtB,IAAMI,UAAU,GAAG,SAAbA,UAAUA,CAAIC,MAAM,EAAK;IAC7Bd,QAAQ,CACLe,SAAS,EAAE,CACXC,UAAU,CAAC,OAAO,CAAC,CACnBC,KAAK,CAAC,UAAU,EAAE,IAAI,EAAEH,MAAM,CAAC,CAC/BI,GAAG,EAAE,CACLC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClB,IAAIC,OAAO,GAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAC,UAACC,GAAG,EAAK;QACvC,IAAMC,IAAI,GAAGD,GAAG,CAACC,IAAI,EAAE;QACvB,IAAMC,EAAE,GAAGF,GAAG,CAACE,EAAE;QACjB,OAAAC,aAAA;UAASD,EAAE,EAAFA;QAAE,GAAKD,IAAI;MACtB,CAAC,CAAC;MACFb,QAAQ,CAACS,OAAO,CAAC;IACnB,CAAC,CAAC;EACN,CAAC;EACD,OACEjB,KAAA,CAACwB,IAAI;IAAAC,QAAA,GACH3B,IAAA,CAAC4B,SAAS;MACRC,WAAW,EAAC,QAAQ;MACpBC,YAAY,EAAE,SAAAA,aAAClB,MAAM;QAAA,OAAKD,UAAU,CAACC,MAAM,CAAC;MAAA;IAAC,EAC7C,EACFZ,IAAA,CAAC+B,QAAQ;MACPC,UAAU,EAAE,CAAE;MACdC,UAAU,EAAE,KAAM;MAClBV,IAAI,EAAEd,KAAM;MACZyB,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGC,IAAI,GAAAD,KAAA,CAAJC,IAAI;QAAA,OACjBpC,IAAA,CAACqC,gBAAgB;UACfC,OAAO,EAAE,SAAAA,QAAA;YAAA,OAAMjC,UAAU,CAACkC,QAAQ,CAAC,SAAS,EAAE;cAAEC,GAAG,EAAEJ,IAAI,CAACZ;YAAG,CAAC,CAAC;UAAA,CAAC;UAAAG,QAAA,EAEhE3B,IAAA,CAACyC,IAAI;YAAAd,QAAA,EAAES,IAAI,CAACM;UAAQ;QAAQ,EACX;MAAA;IACnB,EACF;EAAA,EACG;AAEX,CAAC;AAED,eAAevC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}